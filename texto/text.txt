import javax.swing.JOptionPane;

public class MainClass {
    public static void main(String[] args) {
        ListaExpa list = new ListaExpa();
        int opcion;

        final int OPCION_AGREGAR = 1;
        final int OPCION_MOSTRAR = 2;
        final int OPCION_ELIMINAR = 3;
        final int OPCION_SALIR = 9;

        do {
            try {
                opcion = Integer.parseInt(JOptionPane.showInputDialog(
                        null,
                        "üìö Bienvenidos a la Biblioteca Raskolnikov üìö\n\n"
                                + "1. Agregar ID del libro\n"
                                + "2. Mostrar inventario de libros\n"
                                + "3. Eliminar libro espec√≠fico\n"
                                + "9. Finalizar sesi√≥n\n\n"
                                + "Seleccione una opci√≥n:",
                        "Men√∫ Biblioteca",
                        JOptionPane.PLAIN_MESSAGE));

                switch (opcion) {
                    case OPCION_AGREGAR:
                        agregarLibro(list);
                        break;

                    case OPCION_MOSTRAR:
                        list.ViewLibros();
                        break;

                    case OPCION_ELIMINAR:
                        eliminarLibro(list);
                        break;

                    case OPCION_SALIR:
                        JOptionPane.showMessageDialog(null, "¬°Sesi√≥n finalizada! Hasta pronto.");
                        break;

                    default:
                        JOptionPane.showMessageDialog(null, "‚ö†Ô∏è Opci√≥n no v√°lida. Intente nuevamente.");
                        break;
                }

            } catch (NumberFormatException e) {
                JOptionPane.showMessageDialog(null, "‚ö†Ô∏è Entrada inv√°lida. Debe ingresar un n√∫mero.");
                opcion = -1; // para que no termine el programa
            }
        } while (opcion != OPCION_SALIR);
    }

    private static void agregarLibro(ListaExpa list) {
        try {
            int idLibro = Integer.parseInt(JOptionPane.showInputDialog("Ingrese el ID del libro:"));
            String nombreLibro = JOptionPane.showInputDialog("Ingrese el nombre del libro:");
            list.addInicio(idLibro, nombreLibro);
            JOptionPane.showMessageDialog(null, "‚úÖ Libro agregado correctamente.");
        } catch (NumberFormatException e) {
            JOptionPane.showMessageDialog(null, "‚ö†Ô∏è ID inv√°lido. Debe ingresar un n√∫mero.");
        }
    }

    private static void eliminarLibro(ListaExpa list) {
        try {
            int idEliminar = Integer.parseInt(JOptionPane.showInputDialog("Ingrese el ID del libro a eliminar:"));
            boolean eliminado = list.eliminarLibroPorId(idEliminar);
            if (eliminado) {
                JOptionPane.showMessageDialog(null, "‚úÖ Libro eliminado correctamente.");
            } else {
                JOptionPane.showMessageDialog(null, "‚ùå Libro no encontrado.");
            }
        } catch (NumberFormatException e) {
            JOptionPane.showMessageDialog(null, "‚ö†Ô∏è ID inv√°lido. Debe ingresar un n√∫mero.");
        }
    }
}

